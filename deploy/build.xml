<project name="Tomcat Instance Manager">
	<description>Manage the creating/removing of Tomcat instances on a Rice deployment server</description>

	<property name="catalina.home" location="/usr/local/tomcat" />

	<target name="create-instance">
		<exec executable="useradd">
			<arg value="-g" />
			<arg value="tomcat" />
			<arg value="${tomcat.user}" />
		</exec>
		<mkdir dir="${catalina.base}" />
	</target>
	<target name="remove-instance">
		<exec executable="userdel">
			<arg value="-rf" />
			<arg value="${tomcat.user}" />
		</exec>
		<rmdir dir="${catalina.base}" />
	</target>
	<target name="create1">
		<antcall target="create-instance">
			<param name="tomcat.user" value="tomcat1" />
			<param name="catalina.base" value="/usr/local/tomcat1" />
		</antcall>
	</target>
	<target name="remove1">
		<antcall target="remove-instance">
			<param name="tomcat.user" value="tomcat1" />
			<param name="catalina.base" value="/usr/local/tomcat1" />
		</antcall>
	</target>
</project>