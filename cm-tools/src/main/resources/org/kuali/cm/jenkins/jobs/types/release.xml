<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
  <comment>Properties specific to releasing a Kuali project</comment>
  <entry key="jenkins.job.goals">release:prepare release:perform -B -e</entry>
  <entry key="jenkins.job.type">release</entry>
  <entry key="jenkins.job.description.brief"><![CDATA[<li>Create an official Kuali release:</li>
    <ol>
      <li>Remove SNAPSHOT from the pom version (eg change 1.0.1-SNAPSHOT to 1.0.1)</li>
      <li>Update the SCM information in the pom to reflect the release tag that is about to be created</li>
      <li>Execute "clean verify" to make sure altering the poms has not caused an issue</li>
      <li>Commit the modified poms</li>
      <li>Create a tag of the source tree containing the updated version/SCM information</li>
      <li>Re-alter the poms, by incrementing the pom version (eg change 1.0.1 to 1.0.2-SNAPSHOT) and change the SCM information back to what it was originally</li>
      <li>Commit the modified poms</li>
      <li>Checkout the tag</li>
      <li>Execute "deploy site-deploy" on the tag using the "kuali-release" profile</li>
      <li>Attach sources/javadoc/site descriptor/test source &amp; classes</li>
      <li>Sign all artifacts with GPG</li>
      <li>Embed SCM info into jars/wars</li>
      <li>Publish the Maven web site</li>
      <li>Deploy the build artifacts to the Sonatype Nexus instance that sync's with Maven Central</li>
    </ol>]]></entry>

  <entry key="jenkins.job.postbuilders">${jenkins.job.postbuilders.1}</entry>

  <entry key="jenkins.job.postbuilders.1"><![CDATA[
    <hudson.tasks.Maven>
      <targets>${jenkins.job.postbuilders.1.targets}</targets>
      <mavenName>${jenkins.job.postbuilders.1.mavenName}</mavenName>
      <pom>${jenkins.job.postbuilders.1.pom}</pom>
      <usePrivateRepository>${jenkins.job.postbuilders.1.usePrivateRepository}</usePrivateRepository>
    </hudson.tasks.Maven>
  ]]></entry>

  <entry key="jenkins.job.postbuilders.1.targets">deploy nexus:staging-close nexus:staging-release -Pkuali-release,sonatype-oss-release -DskipTests -e</entry>
  <entry key="jenkins.job.postbuilders.1.mavenName">3.0.3</entry>
  <entry key="jenkins.job.postbuilders.1.pom">target/checkout/pom.xml</entry>
  <entry key="jenkins.job.postbuilders.1.usePrivateRepository">false</entry>
  <entry key="jenkins.job.runPostStepsIfResult.name">UNSTABLE</entry>
  <entry key="jenkins.job.runPostStepsIfResult.ordinal">1</entry>
  <entry key="jenkins.job.runPostStepsIfResult.color">YELLOW</entry>
  <entry key="jenkins.job.git.clean">true</entry>
  <entry key="jenkins.job.git.userRemoteConfigs.1.refspec">+refs/heads/*:refs/remotes/origin/*</entry>
  <entry key="jenkins.job.git.userRemoteConfigs.1.name">origin</entry>
</properties>
