<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
  <comment>JDBC Properties</comment>

  <!-- Setting this property to "true" will execute SQL that drops and then recreates a database -->
  <entry key="kuali.jdbc.dba.sql.execute">false</entry>
  
  <!-- JDBC properties -->
  <entry key="kuali.jdbc.vendor">oracle</entry>
  <entry key="kuali.jdbc.database">${kuali.jdbc.${kuali.jdbc.vendor}.default.database}</entry>
  <entry key="kuali.jdbc.driver">${kuali.jdbc.${kuali.jdbc.vendor}.default.driver}</entry>
  <entry key="kuali.jdbc.username">${kuali.jdbc.${kuali.jdbc.vendor}.default.username}</entry>
  <entry key="kuali.jdbc.password">${kuali.jdbc.${kuali.jdbc.vendor}.default.password}</entry>
  <entry key="kuali.jdbc.dba.url">${kuali.jdbc.${kuali.jdbc.vendor}.default.dba.url}</entry>
  <entry key="kuali.jdbc.dba.username">${kuali.jdbc.${kuali.jdbc.vendor}.default.dba.username}</entry>
  <entry key="kuali.jdbc.dba.password">${kuali.jdbc.${kuali.jdbc.vendor}.default.dba.password}</entry>
  <entry key="kuali.jdbc.sql.drop">${kuali.jdbc.${kuali.jdbc.vendor}.default.sql.drop}</entry>
  <entry key="kuali.jdbc.sql.initialize">${kuali.jdbc.${kuali.jdbc.vendor}.default.sql.initialize}</entry>

  <!-- Oracle properties -->
  <entry key="kuali.jdbc.oracle.default.database">KUALIDB</entry>
  <entry key="kuali.jdbc.oracle.default.username">KUALIDB</entry>
  <entry key="kuali.jdbc.oracle.default.password">KUALIDB</entry>
  <entry key="kuali.jdbc.oracle.default.driver">oracle.jdbc.driver.OracleDriver</entry>
  <entry key="kuali.jdbc.oracle.default.dba.url">jdbc:oracle:thin:@localhost:1521:XE</entry>
  <entry key="kuali.jdbc.oracle.default.dba.username">SYS AS SYSDBA</entry>
  <entry key="kuali.jdbc.oracle.default.dba.password">change_on_install</entry>
  <entry key="kuali.jdbc.oracle.defaultTablespace">users</entry>
  <entry key="kuali.jdbc.oracle.temporaryTablespace">temp</entry>
  <entry key="kuali.jdbc.oracle.quota">UNLIMITED</entry>
  <entry key="kuali.jdbc.oracle.error.sqlcode.userDoesNotExist">-01918</entry>
  <entry key="kuali.jdbc.oracle.default.sql.drop"><![CDATA[
    BEGIN
      EXECUTE IMMEDIATE 'DROP USER ${kuali.jdbc.username} CASCADE';
      EXCEPTION WHEN OTHERS THEN
      IF SQLCODE != ${kuali.jdbc.oracle.error.sqlcode.userDoesNotExist} THEN
        RAISE;
      END IF;
    END;
    /
]]>
  </entry>
  <entry key="kuali.jdbc.oracle.default.sql.create"><![CDATA[
    CREATE USER ${kuali.jdbc.username}
    IDENTIFIED BY ${kuali.jdbc.password}
    DEFAULT TABLESPACE ${kuali.jdbc.oracle.defaultTablespace}
    TEMPORARY TABLESPACE ${kuali.jdbc.oracle.temporaryTablespace}
    QUOTA ${kuali.jdbc.oracle.quota} ON ${kuali.jdbc.oracle.defaultTablespace}
    /
]]>
  </entry>
  <entry key="kuali.jdbc.oracle.default.sql.grants"><![CDATA[
    GRANT CREATE PROCEDURE
     , CREATE SEQUENCE
     , CREATE SESSION
     , CREATE SYNONYM
     , CREATE TABLE
     , CREATE TRIGGER
     , CREATE TYPE
     , CREATE VIEW
    TO ${kuali.jdbc.username}
    /
    GRANT SELECT ON pending_trans$ to ${kuali.jdbc.username}
    /
    GRANT SELECT ON dba_2pc_pending to ${kuali.jdbc.username}
    /
    GRANT SELECT ON dba_pending_transactions to ${kuali.jdbc.username}
    /
    GRANT EXECUTE ON dbms_system to ${kuali.jdbc.username}
    /
]]>
  </entry>
  <entry key="kuali.jdbc.oracle.default.sql.initialize">
    ${kuali.jdbc.oracle.default.sql.create}
    ${kuali.jdbc.oracle.default.sql.grants}
  </entry>

  <!-- MySQL properties -->
  <entry key="kuali.jdbc.mysql.default.database">kualidb</entry>
  <entry key="kuali.jdbc.mysql.default.username">kualidb</entry>
  <entry key="kuali.jdbc.mysql.default.password">kualidb</entry>
  <entry key="kuali.jdbc.mysql.default.driver">com.mysql.jdbc.Driver</entry>
  <entry key="kuali.jdbc.mysql.default.dba.url">jdbc:mysql://localhost:3306/</entry>
  <entry key="kuali.jdbc.mysql.default.dba.username">root</entry>
  <entry key="kuali.jdbc.mysql.default.dba.password"></entry>
  <entry key="kuali.jdbc.mysql.character.set">utf8</entry>
  <entry key="kuali.jdbc.mysql.collate">utf8_bin</entry>
  <entry key="kuali.jdbc.mysql.default.sql.drop"><![CDATA[
    DROP DATABASE IF EXISTS ${kuali.jdbc.database}
    /

    GRANT USAGE ON *.* TO '${kuali.jdbc.username}'@'%' IDENTIFIED BY '${kuali.jdbc.password}'
    /

    DROP USER ${kuali.jdbc.dba.username}
    /
]]>
  </entry>
  <entry key="kuali.jdbc.mysql.default.sql.create"><![CDATA[
    CREATE DATABASE IF NOT EXISTS ${kuali.jdbc.database}
    DEFAULT CHARACTER SET '${kuali.jdbc.mysql.character.set}'
    DEFAULT COLLATE '${kuali.jdbc.mysql.collate}';
    /
]]>
  </entry>
  <entry key="kuali.jdbc.mysql.default.sql.grants"><![CDATA[
    GRANT ALL ON ${kuali.jdbc.database}.*
    TO '${kuali.jdbc.username}'@'%'
    IDENTIFIED BY '${kuali.jdbc.password}'
    WITH GRANT OPTION
    /
]]>
  </entry>
  <entry key="kuali.jdbc.mysql.default.sql.initialize">
    ${kuali.jdbc.mysql.default.sql.create}
    ${kuali.jdbc.mysql.default.sql.grants}
  </entry>

</properties>
