<?xml version="1.0" encoding="UTF-8"?>
<!--

  Copyright 2004-2011 The Kuali Foundation

  Licensed under the Educational Community License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.opensource.org/licenses/ecl2.php

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.kuali.pom</groupId>
  <artifactId>kuali</artifactId>
  <version>1.0.2-SNAPSHOT</version>
  <packaging>pom</packaging>
  <name>The Kuali Foundation</name>
  <description>
    Kuali is a community of universities, colleges, businesses, and other organizations that have partnered
    to build and sustain open-source
    administrative software for higher education, by higher education. Kuali software
    is designed to meet the needs of all sizes of institutions, from
    land-grant research universities to community
    colleges. The members of the Kuali Community share a common vision of open, modular, and distributed
    systems for
    their software requirements. Kuali software is released under the Educational Community License.
  </description>
  <licenses>
    <license>
      <name>Educational Community License, Version 2.0</name>
      <url>${kuali.ecl.license.url}</url>
      <distribution>repo</distribution>
    </license>
  </licenses>
  <organization>
    <name>The Kuali Foundation</name>
    <url>http://www.kuali.org/</url>
  </organization>
  <inceptionYear>2004</inceptionYear>
  <ciManagement>
    <system>jenkins</system>
    <url>http://ci.fn.kuali.org</url>
  </ciManagement>
  <issueManagement>
    <system>JIRA</system>
    <url>http://jira.kuali.org</url>
  </issueManagement>
  <developers>
    <developer>
      <id>jcaddel</id>
      <name>Jeff Caddel</name>
      <email>jcaddel@kuali.org</email>
      <organization>rSmart</organization>
      <timezone>-7</timezone>
    </developer>
  </developers>
  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>

    <!-- Declared as properties so they can be shared between the compiler and javadoc plugins -->
    <kuali.compile.source>1.6</kuali.compile.source>
    <kuali.compile.target>1.6</kuali.compile.target>

    <!--
      Declared here as a property because version inheritance is not working correctly with the
      configuration for the 3.0-beta-4 version of the site plugin
    -->
    <kuali.javadoc.plugin.version>2.8</kuali.javadoc.plugin.version>

    <!-- This profile provides basic quality control for official Kuali artifacts (GPG signature, attached sources/javadocs
      etc.) -->
    <kuali.release.profiles>kuali-release</kuali.release.profiles>
    <!-- This is "false" because their profile forks the maven process when attaching sources, we want "jar-no-fork" -->
    <kuali.release.use.maven.profile>false</kuali.release.use.maven.profile>
    <kuali.release.goals>deploy site-deploy</kuali.release.goals>
    <kuali.release.prepare.goals>clean verify</kuali.release.prepare.goals>

    <kuali.svn.prefix>svn</kuali.svn.prefix>
    <kuali.svn.depth>empty</kuali.svn.depth>
    <kuali.svn.verbose>false</kuali.svn.verbose>

    <!-- This is used in the licenses section as well as the jar/war plugins -->
    <kuali.ecl.license.url>http://maven.kuali.org/external/org/opensource/ecl/2.0/ecl-2.0.txt</kuali.ecl.license.url>

    <!-- These properties are used when generating/deploying the maven generated site -->
    <kuali.groupId>org.kuali</kuali.groupId>
    <kuali.pom.1>org.kuali.pom:kuali</kuali.pom.1>
    <kuali.pom.2>org.kuali.pom:kuali-common</kuali.pom.2>
    <!-- 3.0 fixes MSITE-532 but has MSITE-600. 3.1 should fix both -->
    <kuali.site.plugin.version>3.0-beta-3</kuali.site.plugin.version>
    <kuali.site.bucket>site.origin.kuali.org</kuali.site.bucket>
    <kuali.site.hostname>site.kuali.org</kuali.site.hostname>
    <kuali.site.server.id>kuali.site</kuali.site.server.id>
    <kuali.site.descriptor.phase>package</kuali.site.descriptor.phase>

    <!--
      Setting this to true causes Maven to try and contact any url's listed for every dependency in the project(s).
      Typically, quite a few of these urls are out of date, which makes the request eventually time out. This causes basic
      report generation to take a very long time
    -->
    <dependency.locations.enabled>false</dependency.locations.enabled>
    <dependency.details.enabled>false</dependency.details.enabled>

    <!-- These are the Kuali repository settings for an official release -->
    <kuali.repo.release.id>kuali.release</kuali.repo.release.id>
    <kuali.repo.release.name>Kuali Release Repository</kuali.repo.release.name>
    <kuali.repo.release.url>s3://maven.kuali.org/release</kuali.repo.release.url>

    <!-- These are the Kuali repository settings for snapshot builds -->
    <kuali.repo.snapshot.id>kuali.snapshot</kuali.repo.snapshot.id>
    <kuali.repo.snapshot.name>Kuali Snapshot Repository</kuali.repo.snapshot.name>
    <kuali.repo.snapshot.url>s3://maven.kuali.org/snapshot</kuali.repo.snapshot.url>
    <kuali.cm.tools.version>1.1.0</kuali.cm.tools.version>
    <plugin.project.info.reports.version>2.4</plugin.project.info.reports.version>

    <!-- Properties for controlling repo settings -->
    <kuali.releases>true</kuali.releases>
    <kuali.snapshots>true</kuali.snapshots>
    <kuali.repo>http://nexus.kuali.org/content/groups/public</kuali.repo>
    <kuali.repo.releases>${kuali.releases}</kuali.repo.releases>
    <kuali.repo.snapshots>${kuali.snapshots}</kuali.repo.snapshots>
    <kuali.plugin.releases>${kuali.releases}</kuali.plugin.releases>
    <kuali.plugin.snapshots>${kuali.snapshots}</kuali.plugin.snapshots>

    <jenkins.cli.version>1.440</jenkins.cli.version>

    <kuali.testjar.phase>package</kuali.testjar.phase>
    <kuali.gpg.phase>install</kuali.gpg.phase>
    <kuali.cloudfront.phase>site-deploy</kuali.cloudfront.phase>

    <ksite.phase>pre-site</ksite.phase>
    <ksite.publishBase>s3://${kuali.site.bucket}</ksite.publishBase>
    <ksite.publicBase>http://${kuali.site.hostname}</ksite.publicBase>
    <ksite.downloadBase>http://s3browse.springsource.com/browse/maven.kuali.org</ksite.downloadBase>
  </properties>
  <repositories>
    <repository>
      <id>kuali.nexus</id>
      <name>Nexus Repository Manager</name>
      <url>${kuali.repo}</url>
      <releases>
        <enabled>${kuali.repo.releases}</enabled>
      </releases>
      <snapshots>
        <enabled>${kuali.repo.snapshots}</enabled>
      </snapshots>
    </repository>
  </repositories>
  <pluginRepositories>
    <pluginRepository>
      <id>kuali.nexus</id>
      <name>Nexus Repository Manager</name>
      <url>${kuali.repo}</url>
      <releases>
        <enabled>${kuali.plugin.releases}</enabled>
      </releases>
      <snapshots>
        <enabled>${kuali.plugin.snapshots}</enabled>
      </snapshots>
    </pluginRepository>
  </pluginRepositories>
  <url>${kuali.site.public.url}</url>
  <distributionManagement>
    <downloadUrl>${kuali.site.download.url}</downloadUrl>
    <site>
      <id>${kuali.site.server.id}</id>
      <name>Kuali Maven Site</name>
      <url>${kuali.site.publish.url}</url>
    </site>
    <repository>
      <id>${kuali.repo.release.id}</id>
      <name>${kuali.repo.release.name}</name>
      <url>${kuali.repo.release.url}</url>
    </repository>
    <snapshotRepository>
      <id>${kuali.repo.snapshot.id}</id>
      <name>${kuali.repo.snapshot.name}</name>
      <url>${kuali.repo.snapshot.url}</url>
    </snapshotRepository>
  </distributionManagement>
  <scm>
    <connection>scm:svn:http://svn.kuali.org/repos/foundation/pom/trunk/kuali</connection>
    <developerConnection>scm:svn:http://svn.kuali.org/repos/foundation/pom/trunk/kuali</developerConnection>
    <url>http://svn.kuali.org/repos/foundation/pom/trunk/kuali</url>
  </scm>
  <build>
    <extensions>
      <extension>
        <groupId>org.kuali.maven.wagons</groupId>
        <artifactId>maven-s3-wagon</artifactId>
        <version>1.1.4</version>
      </extension>
    </extensions>
    <pluginManagement>
      <plugins>
        <!-- set versions of common plugins for reproducibility, ordered alphabetically -->
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>buildnumber-maven-plugin</artifactId>
          <version>1.0</version>
        </plugin>
        <plugin>
          <groupId>org.kuali.maven.plugins</groupId>
          <artifactId>extractor-maven-plugin</artifactId>
          <version>1.0.1</version>
        </plugin>
        <plugin>
          <artifactId>maven-antrun-plugin</artifactId>
          <version>1.7</version>
        </plugin>
        <plugin>
          <artifactId>maven-clean-plugin</artifactId>
          <version>2.4.1</version>
        </plugin>
        <plugin>
          <groupId>org.kuali.maven.plugins</groupId>
          <artifactId>maven-cloudfront-plugin</artifactId>
          <version>1.1.2</version>
          <configuration>
            <organizationGroupId>${kuali.groupId}</organizationGroupId>
            <forceMojoExecution>true</forceMojoExecution>
            <bucket>${kuali.site.bucket}</bucket>
            <serverId>${kuali.site.server.id}</serverId>
            <orgPomGavs>
              <param>${kuali.pom.1}</param>
              <param>${kuali.pom.2}</param>
            </orgPomGavs>
          </configuration>
        </plugin>
        <plugin>
          <artifactId>maven-compiler-plugin</artifactId>
          <version>2.3.2</version>
          <configuration>
            <source>${kuali.compile.source}</source>
            <target>${kuali.compile.target}</target>
            <encoding>${project.build.sourceEncoding}</encoding>
          </configuration>
        </plugin>
        <plugin>
          <artifactId>maven-dependency-plugin</artifactId>
          <version>2.3</version>
        </plugin>
        <plugin>
          <artifactId>maven-deploy-plugin</artifactId>
          <version>2.6</version>
        </plugin>
        <plugin>
          <artifactId>maven-enforcer-plugin</artifactId>
          <version>1.0.1</version>
        </plugin>
        <plugin>
          <artifactId>maven-gpg-plugin</artifactId>
          <version>1.4</version>
          <configuration>
            <passphrase>${kuali.gpg.passphrase}</passphrase>
          </configuration>
        </plugin>
        <plugin>
          <artifactId>maven-install-plugin</artifactId>
          <version>2.3.1</version>
        </plugin>
        <plugin>
          <artifactId>maven-jar-plugin</artifactId>
          <version>2.3.2</version>
          <configuration>
            <archive>
              <manifestEntries>
                <Bundle-Version>${project.version}</Bundle-Version>
                <Bundle-Name>${project.name}</Bundle-Name>
                <Bundle-Description>${project.description}</Bundle-Description>
                <Bundle-License>${kuali.ecl.license.url}</Bundle-License>
                <Bundle-Vendor>${project.organization.name}</Bundle-Vendor>
                <Bundle-DocURL>${project.organization.url}</Bundle-DocURL>
                <Bundle-Timestamp>${maven.build.timestamp}</Bundle-Timestamp>
                <Bundle-SymbolicName>${project.groupId}.${project.artifactId}</Bundle-SymbolicName>
                <Bundle-BuildNumber>${env.BUILD_NUMBER}</Bundle-BuildNumber>
                <SVN-Repository>${svn.repository}</SVN-Repository>
                <SVN-Path>${svn.path}</SVN-Path>
                <SVN-Revision>${svn.revision}</SVN-Revision>
                <SVN-URL>${svn.repository}/${svn.path}</SVN-URL>
              </manifestEntries>
              <manifest>
                <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
              </manifest>
            </archive>
          </configuration>
        </plugin>
        <plugin>
          <artifactId>maven-javadoc-plugin</artifactId>
          <version>${kuali.javadoc.plugin.version}</version>
          <configuration>
            <encoding>${project.build.sourceEncoding}</encoding>
            <source>${kuali.compile.source}</source>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.kuali.maven.plugins</groupId>
          <artifactId>maven-ksite-plugin</artifactId>
          <version>1.1.0</version>
          <configuration>
            <organizationGroupId>${kuali.groupId}</organizationGroupId>
            <downloadExternalPath>external</downloadExternalPath>
            <downloadReleasePath>release</downloadReleasePath>
            <downloadSnapshotPath>snapshot</downloadSnapshotPath>
            <downloadBase>${ksite.downloadBase}</downloadBase>
            <publishBase>${ksite.publishBase}</publishBase>
            <publicBase>${ksite.publicBase}</publicBase>
            <snapshotSnippet>SNAPSHOT</snapshotSnippet>
            <orgPomGavs>
              <param>${kuali.pom.1}</param>
              <param>${kuali.pom.2}</param>
            </orgPomGavs>
          </configuration>
        </plugin>
        <plugin>
          <groupId>com.mycila.maven-license-plugin</groupId>
          <artifactId>maven-license-plugin</artifactId>
          <version>1.9.0</version>
        </plugin>
        <plugin>
          <artifactId>maven-project-info-reports-plugin</artifactId>
          <version>${plugin.project.info.reports.version}</version>
        </plugin>
        <plugin>
          <artifactId>maven-release-plugin</artifactId>
          <version>2.2.1</version>
          <configuration>
            <arguments>${kuali.release.arguments}</arguments>
            <releaseProfiles>${kuali.release.profiles}</releaseProfiles>
            <useReleaseProfile>${kuali.release.use.maven.profile}</useReleaseProfile>
            <developmentVersion>${kuali.release.dev.version}</developmentVersion>
            <releaseVersion>${kuali.release.version}</releaseVersion>
            <username>${kuali.release.username}</username>
            <password>${kuali.release.password}</password>
            <preparationGoals>${kuali.release.prepare.goals}</preparationGoals>
            <goals>${kuali.release.goals}</goals>
          </configuration>
        </plugin>
        <plugin>
          <artifactId>maven-resources-plugin</artifactId>
          <version>2.5</version>
          <configuration>
            <encoding>${project.build.sourceEncoding}</encoding>
          </configuration>
        </plugin>
        <plugin>
          <artifactId>maven-site-plugin</artifactId>
          <version>${kuali.site.plugin.version}</version>
          <configuration>
            <reportPlugins>
              <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-project-info-reports-plugin</artifactId>
                <configuration>
                  <dependencyDetailsEnabled>${dependency.details.enabled}</dependencyDetailsEnabled>
                  <dependencyLocationsEnabled>${dependency.locations.enabled}</dependencyLocationsEnabled>
                </configuration>
              </plugin>
            </reportPlugins>
          </configuration>
        </plugin>
        <plugin>
          <artifactId>maven-source-plugin</artifactId>
          <version>2.1.2</version>
        </plugin>
        <plugin>
          <artifactId>maven-surefire-plugin</artifactId>
          <version>2.8</version>
        </plugin>
        <plugin>
          <groupId>com.google.code.maven-svn-revision-number-plugin</groupId>
          <artifactId>maven-svn-revision-number-plugin</artifactId>
          <version>1.6</version>
          <configuration>
            <verbose>${kuali.svn.verbose}</verbose>
            <entries>
              <entry>
                <prefix>${kuali.svn.prefix}</prefix>
                <depth>${kuali.svn.depth}</depth>
              </entry>
            </entries>
          </configuration>
        </plugin>
        <plugin>
          <artifactId>maven-war-plugin</artifactId>
          <version>2.1.1</version>
          <configuration>
            <archive>
              <manifestEntries>
                <Bundle-Version>${project.version}</Bundle-Version>
                <Bundle-Name>${project.name}</Bundle-Name>
                <Bundle-Description>${project.description}</Bundle-Description>
                <Bundle-License>${kuali.ecl.license.url}</Bundle-License>
                <Bundle-Vendor>${project.organization.name}</Bundle-Vendor>
                <Bundle-DocURL>${project.organization.url}</Bundle-DocURL>
                <Bundle-Timestamp>${maven.build.timestamp}</Bundle-Timestamp>
                <Bundle-SymbolicName>${project.groupId}.${project.artifactId}</Bundle-SymbolicName>
                <Bundle-BuildNumber>${env.BUILD_NUMBER}</Bundle-BuildNumber>
                <SVN-Revision>${svn.revision}</SVN-Revision>
                <SVN-Path>${svn.path}</SVN-Path>
                <SVN-Repository>${svn.repository}</SVN-Repository>
                <SVN-URL>${svn.repository}/${svn.path}</SVN-URL>
              </manifestEntries>
            </archive>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.sonatype.plugins</groupId>
          <artifactId>nexus-maven-plugin</artifactId>
          <version>1.9.2.3</version>
        </plugin>
        <plugin>
          <groupId>org.kuali.maven.plugins</groupId>
          <artifactId>properties-maven-plugin</artifactId>
          <version>1.0.3</version>
        </plugin>
      </plugins>
    </pluginManagement>
    <plugins>
      <plugin>
        <groupId>org.kuali.maven.plugins</groupId>
        <artifactId>maven-ksite-plugin</artifactId>
        <executions>
          <execution>
            <id>ksite-set</id>
            <phase>${ksite.phase}</phase>
            <goals>
              <goal>set</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.kuali.maven.plugins</groupId>
        <artifactId>maven-cloudfront-plugin</artifactId>
        <executions>
          <execution>
            <id>update-s3-bucket-indexes</id>
            <phase>${kuali.cloudfront.phase}</phase>
            <goals>
              <goal>updateoriginbucket</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  <profiles>
    <profile>
      <id>license</id>
      <properties>
        <license.timestamp.phase>initialize</license.timestamp.phase>
        <license.timestamp.format>yyyy</license.timestamp.format>
        <license.format.phase>process-sources</license.format.phase>
        <license.check.phase>verify</license.check.phase>
        <license.status.phase>verify</license.status.phase>
        <license.commit.phase>install</license.commit.phase>
        <license.header>org/kuali/cm/license/ecl-2.0-header.txt</license.header>
        <license.strictCheck>true</license.strictCheck>
      </properties>
      <build>
        <pluginManagement>
          <plugins>
            <plugin>
              <groupId>com.mycila.maven-license-plugin</groupId>
              <artifactId>maven-license-plugin</artifactId>
              <configuration>
                <encoding>${project.build.sourceEncoding}</encoding>
                <strictCheck>${license.strictCheck}</strictCheck>
                <header>${license.header}</header>
                <properties>
                  <license.copyrightStartYear>${project.inceptionYear}</license.copyrightStartYear>
                  <license.copyrightCurrentYear>${license.current.year}</license.copyrightCurrentYear>
                </properties>
              </configuration>
              <dependencies>
                <dependency>
                  <groupId>org.kuali.cm</groupId>
                  <artifactId>cm-tools</artifactId>
                  <version>${kuali.cm.tools.version}</version>
                </dependency>
              </dependencies>
            </plugin>
            <plugin>
              <groupId>org.kuali.maven.plugins</groupId>
              <artifactId>maven-scm-plugin</artifactId>
              <version>1.6</version>
              <configuration>
                <basedir>${project.basedir}</basedir>
                <message>Automated license header update</message>
              </configuration>
            </plugin>
          </plugins>
        </pluginManagement>
        <plugins>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>buildnumber-maven-plugin</artifactId>
            <executions>
              <execution>
                <id>generate-current-year</id>
                <phase>${license.timestamp.phase}</phase>
                <goals>
                  <goal>create-timestamp</goal>
                </goals>
                <configuration>
                  <timestampFormat>${license.timestamp.format}</timestampFormat>
                  <timestampPropertyName>license.current.year</timestampPropertyName>
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>com.mycila.maven-license-plugin</groupId>
            <artifactId>maven-license-plugin</artifactId>
            <executions>
              <execution>
                <id>update-license-header</id>
                <phase>${license.format.phase}</phase>
                <goals>
                  <goal>format</goal>
                </goals>
              </execution>
              <execution>
                <id>update-pom-headers</id>
                <phase>${license.format.phase}</phase>
                <goals>
                  <goal>format</goal>
                </goals>
                <configuration>
                  <includes>
                    <include>**/pom.xml</include>
                  </includes>
                  <useDefaultExcludes>false</useDefaultExcludes>
                  <excludes>
                    <exclude>**/target/**</exclude>
                  </excludes>
                </configuration>
              </execution>
              <execution>
                <id>verify-license-header</id>
                <phase>${license.check.phase}</phase>
                <goals>
                  <goal>check</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.kuali.maven.plugins</groupId>
            <artifactId>maven-scm-plugin</artifactId>
            <executions>
              <execution>
                <id>license-header-status</id>
                <phase>${license.status.phase}</phase>
                <goals>
                  <goal>status</goal>
                </goals>
              </execution>
              <execution>
                <id>commit-license-header</id>
                <phase>${license.commit.phase}</phase>
                <goals>
                  <goal>checkin</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>

    <profile>
      <id>sonatype-oss-release</id>
      <properties>
        <kuali.nexus.sonatype.url>https://oss.sonatype.org</kuali.nexus.sonatype.url>
        <kuali.nexus.sonatype.description>Releasing ${project.artifactId} version ${project.version}</kuali.nexus.sonatype.description>
        <kuali.nexus.sonatype.phase>deploy</kuali.nexus.sonatype.phase>
        <kuali.nexus.sonatype.automatic>true</kuali.nexus.sonatype.automatic>
        <kuali.nexus.sonatype.promote.auto.select.override>true</kuali.nexus.sonatype.promote.auto.select.override>
        <kuali.nexus.sonatype.release.repository.id>releases</kuali.nexus.sonatype.release.repository.id>

        <kuali.repo.release.id>sonatype-nexus-staging</kuali.repo.release.id>
        <kuali.repo.release.name>Sonatype Nexus Release Repository</kuali.repo.release.name>
        <kuali.repo.release.url>${kuali.nexus.sonatype.url}/service/local/staging/deploy/maven2</kuali.repo.release.url>

        <!-- These are for reference only. Not currently publishing snapshots to Sonatype's Nexus instance
          <kuali.repo.snapshot.id>sonatype-nexus-snapshots</kuali.repo.snapshot.id>
          <kuali.repo.snapshot.name>Sonatype Nexus Snapshots</kuali.repo.snapshot.name>
          <kuali.repo.snapshot.url>https://oss.sonatype.org/content/repositories/snapshots/</kuali.repo.snapshot.url>
        -->
      </properties>
      <build>
        <plugins>
          <plugin>
            <groupId>org.sonatype.plugins</groupId>
            <artifactId>nexus-maven-plugin</artifactId>
            <configuration>
              <nexusUrl>${kuali.nexus.sonatype.url}</nexusUrl>
              <serverAuthId>${kuali.repo.release.id}</serverAuthId>
              <automatic>${kuali.nexus.sonatype.automatic}</automatic>
              <promoteAutoSelectOverride>${kuali.nexus.sonatype.promote.auto.select.override}</promoteAutoSelectOverride>
              <description>${kuali.nexus.sonatype.description}</description>
              <targetRepositoryId>${kuali.nexus.sonatype.release.repository.id}</targetRepositoryId>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>

    <profile>
      <id>kuali-release</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-deploy-plugin</artifactId>
            <configuration>
              <updateReleaseInfo>true</updateReleaseInfo>
            </configuration>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-gpg-plugin</artifactId>
            <executions>
              <execution>
                <id>sign-artifacts</id>
                <phase>${kuali.gpg.phase}</phase>
                <goals>
                  <goal>sign</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-javadocs</id>
                <goals>
                  <goal>jar</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-site-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-descriptor</id>
                <phase>${kuali.site.descriptor.phase}</phase>
                <goals>
                  <goal>attach-descriptor</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jar-plugin</artifactId>
            <executions>
              <execution>
                <id>test-jar</id>
                <phase>${kuali.testjar.phase}</phase>
                <goals>
                  <goal>test-jar</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-source-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-sources</id>
                <goals>
                  <goal>jar-no-fork</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>com.google.code.maven-svn-revision-number-plugin</groupId>
            <artifactId>maven-svn-revision-number-plugin</artifactId>
            <executions>
              <execution>
                <id>generate-svn-info</id>
                <goals>
                  <goal>revision</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>

    <profile>
      <id>ci</id>
      <properties>
        <ant.file>target/classes/org/kuali/cm/jenkins/ant/cli-wrapper.xml</ant.file>
        <ant.target>${cmd}</ant.target>
        <jenkins.job.type>${job}</jenkins.job.type>
        <jenkins.project.scmType>${extractor.scmType}</jenkins.project.scmType>
        <jenkins.project.scm.url>${extractor.scmUrl}</jenkins.project.scm.url>
        <jenkins.project.majorVersion>${extractor.majorVersion}</jenkins.project.majorVersion>
        <jenkins.project.groupId>${project.groupId}</jenkins.project.groupId>
        <jenkins.project.artifactId>${project.artifactId}</jenkins.project.artifactId>
        <jenkins.server>${project.ciManagement.url}</jenkins.server>
        <enforcer.phase>initialize</enforcer.phase>
        <extractor.phase>initialize</extractor.phase>
        <buildnumber.phase>initialize</buildnumber.phase>
        <dependency.phase>initialize</dependency.phase>
        <properties.phase>initialize</properties.phase>
        <resources.phase>initialize</resources.phase>
        <antrun.phase>process-resources</antrun.phase>
      </properties>
      <build>
        <plugins>
          <plugin>
            <artifactId>maven-enforcer-plugin</artifactId>
            <executions>
              <execution>
                <id>enforce-properties</id>
                <phase>${enforcer.phase}</phase>
                <goals>
                  <goal>enforce</goal>
                </goals>
                <configuration>
                  <rules>
                    <requireProperty>
                      <property>jenkins.server</property>
                      <message>You must provide 'jenkins.server' eg -Djenkins.server=http://ci.fn.kuali.org</message>
                      <regex>\S+</regex>
                      <regexMessage>'jenkins.server' cannot be empty</regexMessage>
                    </requireProperty>
                    <requireProperty>
                      <property>job</property>
                      <message>You must provide 'job' eg -Djob=publish</message>
                      <regex>\S+</regex>
                      <regexMessage>'job' cannot be empty</regexMessage>
                    </requireProperty>
                    <requireProperty>
                      <property>cmd</property>
                      <message>You must provide 'cmd' eg -Dcmd=build</message>
                      <regex>\S+</regex>
                      <regexMessage>'cmd' cannot be empty</regexMessage>
                    </requireProperty>
                  </rules>
                  <fail>true</fail>
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.kuali.maven.plugins</groupId>
            <artifactId>extractor-maven-plugin</artifactId>
            <executions>
              <execution>
                <id>extract</id>
                <phase>${extractor.phase}</phase>
                <goals>
                  <goal>extract</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>buildnumber-maven-plugin</artifactId>
            <executions>
              <execution>
                <id>create-timestamp</id>
                <phase>${buildnumber.phase}</phase>
                <goals>
                  <goal>create-timestamp</goal>
                </goals>
                <configuration>
                  <timestampFormat>yyyy-MM-dd HH:mm z</timestampFormat>
                  <timestampPropertyName>jenkins.build.timestamp</timestampPropertyName>
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <artifactId>maven-dependency-plugin</artifactId>
            <executions>
              <execution>
                <id>copy-cm-tools</id>
                <phase>${dependency.phase}</phase>
                <goals>
                  <goal>copy</goal>
                  <goal>unpack</goal>
                </goals>
                <configuration>
                  <artifactItems>
                    <artifactItem>
                      <groupId>org.kuali.cm</groupId>
                      <artifactId>cm-tools</artifactId>
                      <version>${kuali.cm.tools.version}</version>
                    </artifactItem>
                  </artifactItems>
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.kuali.maven.plugins</groupId>
            <artifactId>properties-maven-plugin</artifactId>
            <executions>
              <execution>
                <id>read-properties</id>
                <phase>${properties.phase}</phase>
                <goals>
                  <goal>read-project-properties</goal>
                </goals>
                <configuration>
                  <files>
                    <file>target/dependency/org/kuali/cm/jenkins/kuali.properties</file>
                    <file>target/dependency/org/kuali/cm/jenkins/jenkins.properties</file>
                    <file>target/dependency/org/kuali/cm/jenkins/jobs/properties/common.xml</file>
                    <file>target/dependency/org/kuali/cm/jenkins/jobs/properties/${jenkins.project.scmType}.xml</file>
                    <file>target/dependency/org/kuali/cm/jenkins/jobs/types/${jenkins.job.type}.xml</file>
                  </files>
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <artifactId>maven-resources-plugin</artifactId>
            <executions>
              <execution>
                <id>copy-resources</id>
                <phase>${resources.phase}</phase>
                <goals>
                  <goal>copy-resources</goal>
                </goals>
                <configuration>
                  <outputDirectory>target/classes</outputDirectory>
                  <resources>
                    <resource>
                      <directory>target/dependency</directory>
                      <filtering>true</filtering>
                      <includes>
                        <include>**/jenkins/**/*</include>
                      </includes>
                      <excludes>
                        <exclude>**/jenkins/**/projects/*</exclude>
                      </excludes>
                    </resource>
                  </resources>
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <artifactId>maven-antrun-plugin</artifactId>
            <configuration>
              <target>
                <property name="maven.plugin.classpath" refid="maven.plugin.classpath" />
                <ant antfile="${ant.file}" target="${ant.target}" />
              </target>
            </configuration>
            <executions>
              <execution>
                <id>ant</id>
                <phase>${antrun.phase}</phase>
                <goals>
                  <goal>run</goal>
                </goals>
              </execution>
            </executions>
            <dependencies>
              <dependency>
                <groupId>org.jenkins</groupId>
                <artifactId>jenkins-cli</artifactId>
                <version>${jenkins.cli.version}</version>
              </dependency>
            </dependencies>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>
</project>
