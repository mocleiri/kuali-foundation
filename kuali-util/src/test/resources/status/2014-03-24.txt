Monday
-----
-- consulting with Travis on KC project structure for s2s
-- s2s is a "bridge" between KC proper and grants.gov + research.gov
--- they release "forms" with updated data structures that KC needs to then support
--- the release schedule for the "forms" is not connected to the release schedule for KC in any way
--- Small amount of code that bridges the "forms" data structures into something KC can understand
--- discussion centered around an S2S api + impl module vs just one module with everything
-- Multi-module builds are directly supported (and encouraged) by DevOps
-- Top level aggregator pom that inherits from the Kuali pom, is the usual way of managing complex project structures

-- Mobility 
-- conducted release RC2 from the 3.0.0 branch
-- tweaked the Mobility pom to prevent the release plugin from getting confused (removed the project.scm.url property)

-- Replied in Rice chat correcting a mis-perception about env12 (Dan S. thought it had a 1gb heap, but it's had a 2gb heap for almost a year)

-- Met with infrastructure on getting CI + CAS communicating more effectively
--- Share email + group membership from KIS -> CAS -> CI

-- Met with Larry to discuss next steps with Jenkins
--- Verbally summarized the vast number of improvements that went in
--- established basic time frame for rolling from test -> production

--- Farooq improved CAS to supply the email attribute, testing with Mike
--- SAML 1.1 instead of CAS 2.0 for the protocol

Tuesday
-------
-- Troubleshooting on a KS issue where an overnight build failed due to an open connection to env3
-- No resolution, but KS techs suspect an unclean tomcat shutdown might be resulting in connections being held open even after tomcat shuts down

-- coordinated with Mike on finishing up group based user management for CAS + Jenkins
-- group membership attribute is being passed, but there is a CSV issue, ie the text "ks.dev,rice.dev" gets interpreted as "ks.dev,rice.dev" instead 
   of 2 separate groups
-- not going to pursue email synchronization between CAS and CI for now, in deference to getting KS core tech team up and running on the new CI

-- continued work on caching maven.kuali.org/external and maven.kuali.org/release onto the nightly build slave AMI

-- Weekly meeting with Jessica

-- Continued working on testci.kuali.org

Wednesday
---------
-- Analyzed repeat issue with KS nightly build, re open db connections causing a failure
-- Proposed copying logs off after a shutdown, to see if there are exceptions in the log output somewhere during shutdown
-- suspicion is that an unclean shutdown will end up with the tomcat process being killed after a set period of time
---- this would prevent the connection pooling software from closing it's connections to the Oracle DB
---- this is likely to be the cause of the open db connections remaining around for a while and causing the build to fail

-- OLE trouble shoot licensing issue
-- they were examining some old, unsupported wiki page for licensing info
-- deleted the page, and deleted the server behind "report.kuali.org", saving Rice some $$$ in the process
-- created a new job that refreshes license information daily

Infra
-----
-- strongly suspect "groupMembership" information is not being supplied correctly to CI from KIS + CAS
-- the CAS "authority" token is one big long CSV string, should be individual tokens, one per authority
-- the other authorities that CAS supplies directly show up this way, eg "authenticated" and "Jeff Caddel"
-- the custom groupMembership authorities do not appear to be showing up correctly

-- Forked and patched the cas-plugin to overcome issue with CAS being unable to correctly supply multi-value attributes
-- Updated Jenkins configuration to accommodate the custom plugin

-- Tied up roughly a dozen loose ends prepping testci for KS tomorrow
-- BuildSlaveAMICreation now caches ~10gb's of artifacts as part of the AMI creation
-- Speeds things up immensely as those no longer have to be downloaded @ build time
-- They are downloaded once per night and cached on the machine image


Thursday
--------

- Informed KS Core tech that testci.kuali.org is up and available
- Minor tweaking on the artifact caching process where it was incorrectly excluding a few kuali artifacts
- Trained Mike on how to bring over the KS licensing job from ci.rice
- Walked through the license update process
-- Identify the binary missing a license
-- Search the internet for what the proper license should be
-- Add the groupId + license to THIRD-PARTY.properties in kuali-cm
-- Release kuali-cm
-- Update the top level pom with the new version of kuali-cm
-- Release the pom
