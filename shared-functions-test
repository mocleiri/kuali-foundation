function kant-mod {
  {
    target=$1
    environment=$2
    klog-mod "executing target: $target against environment: $environment"
    // kexec-mod "$ANT_COMMAND -Ddeployment.directory=$DEPLOY_BASE_DIRECTORY/$environment/$JAVA_APPLICATION_CODE -Dshared.external.build.properties=$ANT_PROPERTIES_FILE -f $ANT_BUILD_FILE $target"
    return 0
  } >> $SCRIPT_LOG 2>&1
}
typeset -xf kant-mod

function klog-mod {
  {
    typeset message=$1
    echo "`date +%Y%m%d.%H.%M.%S`: $message"
  } >> $SCRIPT_LOG 2>&1
}
typeset -xf klog-mod

function kexec-mod {
  {
    typeset command=$1
    klog-mod "executing command: $command"
    eval $command
    typeset return_status=$?
    if [[ "$return_status" != "0" ]]
      then
        kend-mod $return_status
    fi
    return $return_status
  } >> $SCRIPT_LOG 2>&1
}
typeset -xf kexec-mod

function kend-mod {
  {
    typeset exit_status=$1
    klog "ending with exit status: $exit_status"
    if [[ "$exit_status" != "0" ]]
      then
        kmail $APPLICATION_CFG_MAIL_LIST "$SCRIPT_NAME has errors" "see $SCRIPT_LOG"
    fi
    exit $exit_status
  } >> $SCRIPT_LOG 2>&1
}
typeset -xf kend-mod